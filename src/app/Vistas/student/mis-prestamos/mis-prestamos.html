<div class="prestamos-container">

  <a routerLink="/student" class="btn btn-outline-secondary mb-3">
    <i class="bi bi-arrow-left"></i> Volver al Dashboard
  </a>

  <h2 class="h5">Mis Préstamos</h2>
  
  <div class="table-responsive card shadow-sm">
    <table class="table table-striped table-hover mb-0">
      <thead class="table-light"> <tr>
          <th>Libro (Título)</th>
          <th>Autor</th>
          <th>Fecha de Préstamo</th>
          <th>Estado</th>
        </tr>
      </thead>
      <tbody>
        <tr *ngFor="let prestamo of misPrestamos()">
          <td>{{ prestamo.libro?.titulo || 'Libro no disponible' }}</td>
          <td>{{ prestamo.libro?.autor || 'N/A' }}</td>
          <td>{{ prestamo.fechaPrestamo | date:'short' }}</td>
          <td>
            <span *ngIf="prestamo.fechaDevolucion" class="badge text-bg-secondary">
              Devuelto ({{ prestamo.fechaDevolucion | date:'short' }})
            </span>
            <span *ngIf="!prestamo.fechaDevolucion" class="badge text-bg-primary">
              Activo
            </span>
          </td>
        </tr>

        <tr *ngIf="misPrestamos().length === 0">
          <td colspan="4" class="text-center">No tienes préstamos activos o históricos.</td>
        </tr>
      </tbody>
    </table>
  </div>

</div>