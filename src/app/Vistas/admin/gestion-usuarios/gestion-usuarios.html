<div class="gestion-container">
  
  <a routerLink="/admin" class="btn btn-outline-secondary mb-3">
    <i class="bi bi-arrow-left"></i> Volver al Dashboard
  </a>

  <h2 class="h5">Lista de Todos los Usuarios</h2>
  
  <div class="table-responsive card shadow-sm">
    <table class="table table-striped table-hover mb-0">
      <thead class="table-light"> <tr>
          <th>Nombre</th>
          <th>Email</th>
          <th>Rol</th>
          <th>Acciones</th> </tr>
      </thead>
      <tbody>
        <tr *ngFor="let usuario of usuarios()">
          <td>{{ usuario.nombre }}</td>
          <td>{{ usuario.email }}</td>
          <td>
            <span class="badge" [ngClass]="usuario.rol === 'admin' ? 'text-bg-success' : 'text-bg-secondary'">
              {{ usuario.rol }}
            </span>
          </td>
          
          <td>
            <button 
              (click)="cambiarRol(usuario._id, usuario.rol)" 
              class="btn btn-warning btn-sm me-2"
              [title]="usuario.rol === 'admin' ? 'Degradar a Estudiante' : 'Ascender a Admin'">
              <i class="bi bi-person-badge"></i> </button>
            <button 
              (click)="eliminarUsuario(usuario._id)" 
              class="btn btn-danger btn-sm">
              <i class="bi bi-trash"></i> </button>
          </td>
        </tr>
      </tbody>
    </table>
  </div>
</div>